# ===== PAPER TRADING =====
paper_trading:
  enabled: true
  starting_bankroll: 10000  # Starting bankroll in dollars
  realistic_mode: true
  simulate_vig: true
  simulate_delays: true
  bet_sizing_method: 'flat'  # 'flat', 'kelly', 'percentage'
  flat_bet_size: 100  # If using flat sizing
  kelly_fraction: 0.25  # If using Kelly (quarter-Kelly recommended)
  percentage_bet_size: 1  # If using percentage (1% of bankroll)
  max_bet_size: 500  # Maximum single bet
  min_bet_size: 10  # Minimum single bet

# ===== STRATEGIES =====
strategies:
  # New paper trading strategies
  value_betting:
    enabled: true
    min_edge: 0.05  # 5% minimum edge to bet
    
  line_shopping:
    enabled: true
    min_difference: 5  # Minimum 5 cents difference to recommend
    
  arbitrage:
    enabled: true
    min_profit_margin: 0.01  # 1% minimum profit
  
  # Legacy strategies (from existing system)
  clv_model:
    enabled: true
    min_edge_points: 1.5
    confidence_threshold: 0.60
    
  sharp_tracker:
    enabled: true
    min_sharp_score: 70
    
  prop_analyzer:
    enabled: true
    min_edge_percent: 10
    
  live_betting:
    enabled: true
    min_edge_percent: 5

# ===== SPORTS =====
sports:
  nba:
    enabled: true
    strategies: ['arbitrage', 'clv_model', 'sharp_tracker', 'props', 'live']
    
  nfl:
    enabled: true
    strategies: ['arbitrage', 'clv_model', 'sharp_tracker', 'live']
    
  mlb:
    enabled: true
    strategies: ['arbitrage', 'clv_model', 'props']
    
  nhl:
    enabled: true
    strategies: ['arbitrage', 'live']
    
  soccer:
    enabled: true
    strategies: ['arbitrage', 'clv_model']
    
  ncaaf:
    enabled: true
    strategies: ['arbitrage', 'clv_model', 'sharp_tracker']
    
  ncaab:
    enabled: true
    strategies: ['arbitrage', 'clv_model', 'props']

# ===== SPORTSBOOKS =====
sportsbooks:
  fanduel:
    enabled: true
    api_key: ""  # Optional for paper trading
    
  draftkings:
    enabled: true
    api_key: ""
    
  betmgm:
    enabled: true
    api_key: ""
    
  caesars:
    enabled: true
    api_key: ""
    
  pointsbet:
    enabled: true
    api_key: ""

# ===== RISK MANAGEMENT =====
risk_management:
  max_daily_loss_percent: 0.10
  max_total_drawdown_percent: 0.20
  max_concurrent_bets: 10
  position_sizing_method: "kelly_fraction"
  kelly_fraction: 0.25

# ===== DATA SOURCES =====
# Hybrid system supporting free scraping AND paid APIs with automatic fallback
data_sources:
  # Priority order: Try sources in this order (first available wins)
  priority_order:
    - "odds_scraping"    # Free web scraping (default, no setup required)
    - "the_odds_api"     # Paid API (fallback, requires API key)
    - "espn_api"         # Free stats (supplementary)
  
  # Free Web Scraping (Enabled by default, no API key required)
  odds_scraping:
    enabled: true
    sources:
      - "oddsportal"     # OddsPortal.com
      - "oddschecker"    # OddsChecker.com
    rate_limiting:
      enabled: true
      requests_per_minute: 10
      delay_between_requests: 6  # 6 seconds = 10 requests/minute
    cache:
      enabled: true
      ttl_minutes: 5     # Cache odds for 5 minutes
    user_agents:
      rotate: true       # Rotate user agents to avoid blocks
  
  # The Odds API (Paid, disabled by default)
  # Get API key at: https://the-odds-api.com/ (500 requests/month free tier)
  the_odds_api:
    enabled: false       # Disabled by default (requires API key)
    api_key: ""          # Add your API key here to enable
    regions: ["us"]
    markets: ["h2h", "spreads", "totals"]
    odds_format: "american"
    rate_limit:
      requests_per_month: 500   # Free tier limit
      requests_per_day: 25      # Self-imposed daily limit
      min_interval_seconds: 1   # Minimum 1 second between calls
    cache:
      enabled: true
      ttl_minutes: 1     # Cache for 1 minute (fresher data for paid API)
    # Enabled bookmakers (must match The Odds API keys)
    enabled_bookmakers:
      - fanduel
      - draftkings
      - betmgm
      - williamhill_us   # Caesars
      - pointsbetus
  
  # ESPN API (Free stats, no API key needed)
  espn_api:
    enabled: true
    use_mock: true       # Set to false to use real ESPN API
    cache_ttl_minutes: 15  # Cache game data for 15 minutes
    
  # Legacy stats API configuration
  stats_api:
    nba: "espn"
    nfl: "espn"
    mlb: "espn"
    nhl: "espn"

# ===== TESTING =====
testing:
  duration_days: 30
  auto_disable_losers: true
  min_sample_size: 20
  
  performance_thresholds:
    min_win_rate: 0.524  # 52.4% to beat -110 vig
    min_roi: 0.02
    min_clv: 0.5
    
  reallocation_frequency_days: 7

# ===== NOTIFICATIONS =====
# Multi-channel notification system with granular controls
notifications:
  # Desktop notifications (cross-platform)
  desktop:
    enabled: true
    event_types:
      trade: true          # Trade executions
      opportunity: true    # High-value opportunities
      error: true         # Critical errors
      summary: true       # Daily/weekly summaries
      status_change: true # Strategy enable/disable
  
  # Alerter-specific thresholds
  high_value_threshold: 0.10  # Notify if edge > 10%
  arbitrage_alerts: true
  line_shopping_min_diff: 10  # Minimum cents difference for alert
  line_movement_threshold: 5  # Notify on line movement > 5 cents
  bet_settlement_alerts: false  # Disabled by default to avoid spam
  error_alerts: true
  daily_summary: true
  daily_summary_time: "20:00"  # 8 PM
  
  # Email notifications via SMTP
  email:
    enabled: false  # Disabled by default - configure before enabling
    # ⚠️ SECURITY: Never commit credentials! Copy this file to config.yaml and add your credentials there
    from_email: "your-email@example.com"  # Replace with your email
    to_email: "your-email@example.com"    # Replace with recipient email
    smtp_server: "smtp.gmail.com"         # Gmail SMTP server (or your provider)
    smtp_port: 587                        # Standard SMTP port with STARTTLS
    password: "YOUR_APP_PASSWORD_HERE"    # ⚠️ Use app-specific password, NOT your main password!
    event_types:
      trade: true
      opportunity: false   # Often too frequent for email
      error: true
      summary: true
      status_change: true
  
  # Telegram bot notifications
  telegram:
    enabled: false  # Disabled by default - configure before enabling
    # ⚠️ SECURITY: Never commit credentials! Copy this file to config.yaml and add your credentials there
    bot_token: "YOUR_BOT_TOKEN_HERE"     # Get from @BotFather on Telegram
    chat_id: "YOUR_CHAT_ID_HERE"         # Your Telegram chat ID
    event_types:
      trade: true
      opportunity: true
      error: true
      summary: true
      status_change: true
  
  # Sound alerts
  sound:
    enabled: false
    event_types:
      trade: true
      opportunity: true
      error: true
      summary: false
      status_change: false
  
  # Rate limiting to prevent notification spam
  rate_limiting:
    enabled: true
    max_per_hour: 20        # Maximum notifications per hour
    max_per_minute: 5       # Maximum notifications per minute
    cooldown_seconds: 30    # Minimum time between similar notifications
  
  # Quiet hours (no notifications during these times)
  quiet_hours:
    enabled: false
    start_time: "23:00"    # 11 PM
    end_time: "07:00"      # 7 AM
    timezone: "America/New_York"  # Your timezone
  
  # Test notifications
  test_mode:
    enabled: false          # Enable to test notification channels
    send_on_startup: false  # Send test notification when bot starts

# ===== NOTIFICATION TRIGGERS =====
# Configure when specific notifications are sent
notification_triggers:
  high_value_opportunity:
    enabled: true
    min_edge_percent: 5.0      # Notify on opportunities with >5% edge
    channels: ['desktop', 'telegram']  # Which channels to use
  
  daily_loss_limit:
    enabled: true
    threshold_percent: 80      # Notify when 80% of daily loss limit reached
    channels: ['desktop', 'email', 'telegram']
  
  test_complete:
    enabled: true
    channels: ['desktop', 'email']
  
  strategy_performance:
    enabled: true
    min_roi_change: 5.0        # Notify on ±5% ROI change
    channels: ['desktop']
  
  error_critical:
    enabled: true
    channels: ['desktop', 'email', 'telegram']

# ===== DASHBOARD SETTINGS =====
dashboard:
  # Terminal dashboard settings
  terminal:
    enabled: true
    refresh_interval: 5  # Refresh every 5 seconds
    show_pending_bets: 10  # Show last 10 pending
    show_settled_bets: 20  # Show last 20 settled
  
  # Web dashboard settings (existing Flask dashboard)
  web:
    enabled: true
    host: "127.0.0.1"
    port: 5000

# ===== STORAGE SETTINGS =====
storage:
  bets_file: 'data/bets.json'
  results_file: 'data/results.json'
  state_file: 'data/paper_trader_state.json'
  exports_dir: 'data/exports'
  
# ===== API KEYS =====
# Add API keys here or use environment variables
api_keys:
  the_odds_api: null  # Set via environment variable THE_ODDS_API_KEY or here
